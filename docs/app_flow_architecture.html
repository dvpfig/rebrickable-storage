<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rebrickable Storage - Application Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
        }
        
        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            display: block;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #ddd;
            padding: 0 30px;
        }
        
        .tab {
            padding: 15px 30px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1em;
            color: #666;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }
        
        .tab:hover {
            color: #667eea;
        }
        
        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
            padding: 40px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        pre {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            line-height: 1.5;
        }
        
        .function-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .function-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .function-name {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .function-module {
            color: #666;
            font-size: 0.85em;
        }
        
        .function-params {
            color: #888;
            font-size: 0.85em;
            font-family: monospace;
        }
        
        .folder-section {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .folder-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: bold;
            font-size: 1.1em;
            transition: background 0.3s;
        }
        
        .folder-header:hover {
            background: linear-gradient(135deg, #5568d3 0%, #653a8b 100%);
        }
        
        .folder-icon {
            font-size: 1.2em;
            margin-right: 10px;
        }
        
        .folder-count {
            background: rgba(255, 255, 255, 0.2);
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.85em;
        }
        
        .file-section {
            margin: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
        }
        
        .file-header {
            background: #f8f9fa;
            padding: 12px 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: 600;
            color: #333;
            transition: background 0.3s;
        }
        
        .file-header:hover {
            background: #e9ecef;
        }
        
        .file-icon {
            color: #667eea;
            margin-right: 8px;
        }
        
        .file-count {
            background: #667eea;
            color: white;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8em;
        }
        
        .functions-container {
            padding: 15px;
            background: white;
            display: none;
        }
        
        .functions-container.expanded {
            display: block;
        }
        
        .folder-content {
            display: none;
            background: #fafafa;
        }
        
        .folder-content.expanded {
            display: block;
        }
        
        .function-item {
            background: white;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 4px;
            border-left: 3px solid #667eea;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .function-item:hover {
            transform: translateX(5px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .function-item-name {
            font-weight: bold;
            color: #667eea;
            font-family: monospace;
            margin-bottom: 4px;
        }
        
        .function-item-params {
            color: #666;
            font-size: 0.85em;
            font-family: monospace;
        }
        
        .expand-icon {
            transition: transform 0.3s;
            display: inline-block;
        }
        
        .expand-icon.rotated {
            transform: rotate(90deg);
        }
        
        footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #666;
            font-size: 0.9em;
        }
        
        .timestamp {
            color: #999;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸ§± Rebrickable Storage</h1>
            <p>Application Architecture Analysis</p>
        </header>
        
        <div class="stats">
            <div class="stat-card">
                <span class="stat-number">86</span>
                <span class="stat-label">Functions</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">4</span>
                <span class="stat-label">Classes</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">14</span>
                <span class="stat-label">Session Keys</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">16</span>
                <span class="stat-label">Modules</span>
            </div>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')">Overview</button>
            <button class="tab" onclick="showTab('architecture')">Architecture</button>
            <button class="tab" onclick="showTab('metrics')">Metrics</button>
            <button class="tab" onclick="showTab('functions')">Functions</button>
            <button class="tab" onclick="showTab('flow')">Flow Diagram</button>
        </div>
        
        <div id="overview" class="tab-content active">
            <h2>Application Overview</h2>
            <p>This report provides a comprehensive analysis of the Rebrickable Storage application architecture, 
            including execution flow, user experience journey, data structures, and module dependencies.</p>
            
            <h3 style="margin-top: 30px;">Key Components</h3>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><strong>Core Modules:</strong> Authentication, path management, data preprocessing, image handling, color mapping, label generation</li>
                <li><strong>UI Modules:</strong> Theme management, layout helpers, summary tables</li>
                <li><strong>Data Flow:</strong> CSV upload â†’ validation â†’ merging â†’ enrichment â†’ display â†’ export</li>
                <li><strong>Storage:</strong> User-specific data directories, shared image cache, session persistence</li>
            </ul>
            
            <h3 style="margin-top: 30px;">Session State Keys</h3>
            <div class="function-list">
                <div class="function-card"><div class="function-name">collection_bytes</div></div><div class="function-card"><div class="function-name">collection_df</div></div><div class="function-card"><div class="function-name">collection_hash</div></div><div class="function-card"><div class="function-name">expanded_loc</div></div><div class="function-card"><div class="function-name">found_counts</div></div><div class="function-card"><div class="function-name">labels_zip_bytes</div></div><div class="function-card"><div class="function-name">labels_zip_filename</div></div><div class="function-card"><div class="function-name">locations_index</div></div><div class="function-card"><div class="function-name">merged_df</div></div><div class="function-card"><div class="function-name">merged_source_hash</div></div><div class="function-card"><div class="function-name">part_images_map</div></div><div class="function-card"><div class="function-name">precompute_done</div></div><div class="function-card"><div class="function-name">start_processing</div></div><div class="function-card"><div class="function-name">theme</div></div>
            </div>
        </div>
        
        <div id="architecture" class="tab-content">
            <h2>Architecture Overview</h2>
            
            <h3>Technology Stack</h3>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><strong>Frontend:</strong> Streamlit (Web UI Framework)</li>
                <li><strong>Authentication:</strong> streamlit-authenticator, bcrypt, PyYAML</li>
                <li><strong>Data Processing:</strong> pandas, requests</li>
                <li><strong>Storage:</strong> Local filesystem (Development), JSON (Session serialization)</li>
            </ul>
            
            <h3 style="margin-top: 30px;">Session State Management</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                    <h4>Global (Shared)</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>ba_mapping - Part number mappings</li>
                        <li>color_lookup - Color database</li>
                        <li>theme - UI theme preference</li>
                    </ul>
                </div>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                    <h4>User-Specific (Isolated)</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>username - Current user</li>
                        <li>authenticated - Auth status</li>
                        <li>collection_df - User's collection</li>
                        <li>found_counts - Parts marked as found</li>
                        <li>locations_index - Location grouping</li>
                        <li>merged_df - Matched parts</li>
                    </ul>
                </div>
            </div>
            
            <h3 style="margin-top: 30px;">External Integrations</h3>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><strong>Rebrickable API:</strong> Part data and mappings</li>
                <li><strong>BrickArchitect Images:</strong> Part images (cached locally)</li>
            </ul>
            
            <h3 style="margin-top: 30px;">Deployment</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                <div style="background: #e3f2fd; padding: 20px; border-radius: 8px;">
                    <h4>Development</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>localhost:8501</li>
                        <li>File-based storage</li>
                        <li>Local user_data/</li>
                        <li>YAML configuration</li>
                    </ul>
                </div>
                <div style="background: #e8f5e9; padding: 20px; border-radius: 8px;">
                    <h4>Production (Recommended)</h4>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>HTTPS with SSL/TLS</li>
                        <li>Database backend (PostgreSQL/MongoDB)</li>
                        <li>Cloud storage (S3/Azure Blob)</li>
                        <li>Environment secrets management</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div id="metrics" class="tab-content">
            <h2>Runtime Metrics & Data Dimensions</h2>
            
            <h3>Resource Data</h3>
            <div class="function-list">
                <div class="function-card">
                    <div class="function-name">Colors Database</div>
                    <div class="function-module">273 rows Ã— 8 columns</div>
                </div>
                <div class="function-card">
                    <div class="function-name">Part Mappings (BA â†” RB)</div>
                    <div class="function-module">4342 rows Ã— 14 columns</div>
                </div>
            </div>
            
            <h3 style="margin-top: 30px;">User Data</h3>
            <div class="function-list">
                <div class="function-card">
                    <div class="function-name">Total Users</div>
                    <div class="function-module">1 users</div>
                </div>
                <div class="function-card">
                    <div class="function-name">User Collection Files</div>
                    <div class="function-module">14 files</div>
                </div>
                <div class="function-card">
                    <div class="function-name">Default Collection Files</div>
                    <div class="function-module">14 files</div>
                </div>
            </div>
            
            <h3 style="margin-top: 30px;">Data Structure Dimensions</h3>
            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 15px;">
                <h4>DataFrame Schemas</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>wanted_df:</strong> ~4-5 columns (Part, Color, Quantity, Location)</li>
                    <li><strong>collection_df:</strong> ~4 columns (Part, Color, Quantity, Location)</li>
                    <li><strong>merged_df:</strong> ~8-10 columns (includes Image URL, Color data)</li>
                </ul>
                
                <h4 style="margin-top: 20px;">Dictionary Structures</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li><strong>found_counts:</strong> {(part, color, location): count}</li>
                    <li><strong>locations_index:</strong> {location: [image_urls]}</li>
                    <li><strong>ba_mapping:</strong> {ba_part_number: rb_part_number}</li>
                    <li><strong>color_lookup:</strong> {color_id: {name, rgb, ...}}</li>
                </ul>
            </div>
        </div>
        
        <div id="functions" class="tab-content">
            <h2>Function Reference</h2>
            <p>All functions discovered in the application (86 total) - organized by folder and file</p>
            
            <div style="margin: 20px 0;">
                <button onclick="expandAll()" style="padding: 10px 20px; margin-right: 10px; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.9em;">
                    â–¼ Expand All
                </button>
                <button onclick="collapseAll()" style="padding: 10px 20px; background: #764ba2; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.9em;">
                    â–¶ Collapse All
                </button>
            </div>
            
            
            <div class="folder-section">
                <div class="folder-header" onclick="toggleFolder('folder-0')">
                    <div>
                        <span class="folder-icon">ðŸ“„</span>
                        <span>Root Files</span>
                    </div>
                    <div>
                        <span class="folder-count">86 functions</span>
                        <span class="expand-icon" id="folder-0-icon">â–¶</span>
                    </div>
                </div>
                <div class="folder-content" id="folder-0-content">
        
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-0')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>app.py</span>
                            </div>
                            <div>
                                <span class="file-count">4</span>
                                <span class="expand-icon" id="folder-0-file-0-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-0-content">
            
                            <div class="function-item">
                                <div class="function-item-name">_df_bytes</div>
                                <div class="function-item-params">(df)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">count_parts_wrapper</div>
                                <div class="function-item-params">(file_path_str)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">format_mappings_stats</div>
                                <div class="function-item-params">(stats)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">format_parts_stats</div>
                                <div class="function-item-params">(stats)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-1')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>core\auth.py</span>
                            </div>
                            <div>
                                <span class="file-count">7</span>
                                <span class="expand-icon" id="folder-0-file-1-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-1-content">
            
                            <div class="function-item">
                                <div class="function-item-name">__init__</div>
                                <div class="function-item-params">(self, config_path)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">_create_default_config</div>
                                <div class="function-item-params">(self)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">load_user_session</div>
                                <div class="function-item-params">(self, username, user_data_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">logout</div>
                                <div class="function-item-params">(self)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">register_user</div>
                                <div class="function-item-params">(self)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">reset_password</div>
                                <div class="function-item-params">(self)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">save_user_session</div>
                                <div class="function-item-params">(self, username, session_data, user_data_dir)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-2')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>core\colors.py</span>
                            </div>
                            <div>
                                <span class="file-count">3</span>
                                <span class="expand-icon" id="folder-0-file-2-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-2-content">
            
                            <div class="function-item">
                                <div class="function-item-name">build_color_lookup</div>
                                <div class="function-item-params">(colors_df)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">load_colors</div>
                                <div class="function-item-params">(colors_path)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">render_color_cell</div>
                                <div class="function-item-params">(color_id, color_lookup)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-3')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>core\download_helpers.py</span>
                            </div>
                            <div>
                                <span class="file-count">5</span>
                                <span class="expand-icon" id="folder-0-file-3-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-3-content">
            
                            <div class="function-item">
                                <div class="function-item-name">__init__</div>
                                <div class="function-item-params">(self, stop_flag_key, show_stats, stats_formatter)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">create_download_callbacks</div>
                                <div class="function-item-params">(stop_flag_key, show_stats, stats_formatter)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">progress_callback</div>
                                <div class="function-item-params">(self, message, status)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">stats_callback</div>
                                <div class="function-item-params">(self, stats)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">stop_flag_callback</div>
                                <div class="function-item-params">(self)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-4')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>core\images.py</span>
                            </div>
                            <div>
                                <span class="file-count">10</span>
                                <span class="expand-icon" id="folder-0-file-4-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-4-content">
            
                            <div class="function-item">
                                <div class="function-item-name">_fetch_single_image</div>
                                <div class="function-item-params">(identifier, cache_dir, session)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">count_custom_images</div>
                                <div class="function-item-params">(user_uploaded_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">create_custom_images_zip</div>
                                <div class="function-item-params">(user_uploaded_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">delete_all_custom_images</div>
                                <div class="function-item-params">(user_uploaded_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">fetch_image_bytes</div>
                                <div class="function-item-params">(url, _session)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">fetch_wanted_part_images</div>
                                <div class="function-item-params">(merged_df_serialized, ba_mapping, cache_images_dir, user_uploaded_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">get_cached_images_batch</div>
                                <div class="function-item-params">(part_ids, cache_dir, max_workers, user_uploaded_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">precompute_location_images</div>
                                <div class="function-item-params">(collection_df_serialized, ba_mapping, cache_images_dir, user_uploaded_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">save_user_uploaded_image</div>
                                <div class="function-item-params">(uploaded_file, part_num, user_uploaded_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">upload_custom_images</div>
                                <div class="function-item-params">(uploaded_files, user_uploaded_dir)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-5')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>core\labels.py</span>
                            </div>
                            <div>
                                <span class="file-count">2</span>
                                <span class="expand-icon" id="folder-0-file-5-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-5-content">
            
                            <div class="function-item">
                                <div class="function-item-name">generate_collection_labels_zip</div>
                                <div class="function-item-params">(collection_files_stream, ba_mapping, labels_source_dir, output_mode)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">organize_labels_by_location</div>
                                <div class="function-item-params">(collection_df, ba_mapping, labels_source_dir, output_mode)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-6')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>core\lbx_merger.py</span>
                            </div>
                            <div>
                                <span class="file-count">15</span>
                                <span class="expand-icon" id="folder-0-file-6-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-6-content">
            
                            <div class="function-item">
                                <div class="function-item-name">__init__</div>
                                <div class="function-item-params">(self, max_length_mm, spacing_mm)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">calculate_label_bounds</div>
                                <div class="function-item-params">(self, objects, resize_text)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">create_merged_label_xml</div>
                                <div class="function-item-params">(self, label_contents)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">extract_label_content_zip</div>
                                <div class="function-item-params">(self, filepath)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">get_label_content_width_mm</div>
                                <div class="function-item-params">(self, label_xml)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">get_label_content_width_pt</div>
                                <div class="function-item-params">(self, label_xml)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">get_label_objects</div>
                                <div class="function-item-params">(self, root)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">get_paper_element</div>
                                <div class="function-item-params">(self, root)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">get_text_visual_width</div>
                                <div class="function-item-params">(self, text_elem)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">main</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">merge_labels</div>
                                <div class="function-item-params">(self, input_files, output_file)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">merge_properties_xml</div>
                                <div class="function-item-params">(self, label_contents)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">merge_zip_based_labels</div>
                                <div class="function-item-params">(self, label_contents, output_path)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">parse_label_xml</div>
                                <div class="function-item-params">(self, xml)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">shift_object_positions</div>
                                <div class="function-item-params">(self, obj, x_offset, y_offset)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-7')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>core\mapping.py</span>
                            </div>
                            <div>
                                <span class="file-count">6</span>
                                <span class="expand-icon" id="folder-0-file-7-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-7-content">
            
                            <div class="function-item">
                                <div class="function-item-name">build_ba_to_rb_mapping</div>
                                <div class="function-item-params">(mapping_path)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">build_rb_to_similar_parts_mapping</div>
                                <div class="function-item-params">(mapping_path)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">count_parts_in_mapping</div>
                                <div class="function-item-params">(mapping_path_str, collection_parts, count_type)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">load_ba_mapping</div>
                                <div class="function-item-params">(mapping_path)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">load_ba_part_names</div>
                                <div class="function-item-params">(mapping_path)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">read_ba_mapping_from_excel_bytes</div>
                                <div class="function-item-params">(excel_bytes)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-8')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>core\paths.py</span>
                            </div>
                            <div>
                                <span class="file-count">5</span>
                                <span class="expand-icon" id="folder-0-file-8-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-8-content">
            
                            <div class="function-item">
                                <div class="function-item-name">__init__</div>
                                <div class="function-item-params">(self)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">get_user_uploaded_images_dir</div>
                                <div class="function-item-params">(self, username)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">init_paths</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">manage_default_collection</div>
                                <div class="function-item-params">(user_collection_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">save_uploadedfiles</div>
                                <div class="function-item-params">(uploadedfiles_list, user_collection_dir)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-9')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>core\preprocess.py</span>
                            </div>
                            <div>
                                <span class="file-count">6</span>
                                <span class="expand-icon" id="folder-0-file-9-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-9-content">
            
                            <div class="function-item">
                                <div class="function-item-name">get_collection_parts_set</div>
                                <div class="function-item-params">(collection_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">get_collection_parts_tuple</div>
                                <div class="function-item-params">(collection_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">load_collection_files</div>
                                <div class="function-item-params">(files)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">load_wanted_files</div>
                                <div class="function-item-params">(files)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">merge_wanted_collection</div>
                                <div class="function-item-params">(wanted, collection, rb_to_similar_mapping)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">sanitize_and_validate</div>
                                <div class="function-item-params">(df, required, label)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-10')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>resources\ba_part_images.py</span>
                            </div>
                            <div>
                                <span class="file-count">4</span>
                                <span class="expand-icon" id="folder-0-file-10-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-10-content">
            
                            <div class="function-item">
                                <div class="function-item-name">download_ba_images</div>
                                <div class="function-item-params">(mapping_path, cache_images_dir, timeout, progress_callback, stop_flag_callback, stats_callback, filter_mode, collection_parts)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">log</div>
                                <div class="function-item-params">(message, status)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">should_stop</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">update_stats</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-11')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>resources\ba_part_labels.py</span>
                            </div>
                            <div>
                                <span class="file-count">4</span>
                                <span class="expand-icon" id="folder-0-file-11-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-11-content">
            
                            <div class="function-item">
                                <div class="function-item-name">download_ba_labels</div>
                                <div class="function-item-params">(mapping_path, cache_labels_dir, timeout, progress_callback, stop_flag_callback, stats_callback, filter_mode, collection_parts)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">log</div>
                                <div class="function-item-params">(message, status)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">should_stop</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">update_stats</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-12')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>resources\ba_part_mappings.py</span>
                            </div>
                            <div>
                                <span class="file-count">10</span>
                                <span class="expand-icon" id="folder-0-file-12-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-12-content">
            
                            <div class="function-item">
                                <div class="function-item-name">display_mapping_files_info</div>
                                <div class="function-item-params">(resources_dir, count_parts_callback)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">fetch_all_ba_parts</div>
                                <div class="function-item-params">(output_file, start_page, log_callback, stop_flag_callback, stats_callback)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">fetch_ba_parts_from_page</div>
                                <div class="function-item-params">(page, output_file, log_callback, stop_flag_callback)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">fetch_rebrickable_mappings</div>
                                <div class="function-item-params">(output_file, checkpoint_interval, log_callback, stop_flag_callback, stats_callback)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">find_latest_mapping_file</div>
                                <div class="function-item-params">(resources_dir)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">get_rebrickable_parts</div>
                                <div class="function-item-params">(ba_part_number, log_callback)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">log</div>
                                <div class="function-item-params">(message, status)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">should_stop</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">update_ba_mappings</div>
                                <div class="function-item-params">(output_file, log_callback, stop_flag_callback, stats_callback)</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">update_stats</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-13')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>ui\layout.py</span>
                            </div>
                            <div>
                                <span class="file-count">2</span>
                                <span class="expand-icon" id="folder-0-file-13-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-13-content">
            
                            <div class="function-item">
                                <div class="function-item-name">ensure_session_state_keys</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">short_key</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-14')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>ui\summary.py</span>
                            </div>
                            <div>
                                <span class="file-count">1</span>
                                <span class="expand-icon" id="folder-0-file-14-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-14-content">
            
                            <div class="function-item">
                                <div class="function-item-name">render_summary_table</div>
                                <div class="function-item-params">(merged_df)</div>
                            </div>
                
                        </div>
                    </div>
            
                    <div class="file-section">
                        <div class="file-header" onclick="toggleFile('folder-0-file-15')">
                            <div>
                                <span class="file-icon">ðŸ“„</span>
                                <span>ui\theme.py</span>
                            </div>
                            <div>
                                <span class="file-count">2</span>
                                <span class="expand-icon" id="folder-0-file-15-icon">â–¶</span>
                            </div>
                        </div>
                        <div class="functions-container" id="folder-0-file-15-content">
            
                            <div class="function-item">
                                <div class="function-item-name">apply_dark_theme</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                            <div class="function-item">
                                <div class="function-item-name">apply_light_theme</div>
                                <div class="function-item-params">()</div>
                            </div>
                
                        </div>
                    </div>
            
                </div>
            </div>
        
        </div>
        
        <div id="flow" class="tab-content">
            <h2>Application Flow Diagram</h2>
            <pre>================================================================================
APPLICATION EXECUTION FLOW
================================================================================

â”Œâ”€ app.py (Main Entry Point)
â”‚
â”œâ”€â”¬â”€ CORE MODULES
â”‚ â”œâ”€ core/auth.py
â”‚     â””â”€ __init__(self, config_path)
â”‚     â””â”€ _create_default_config(self)
â”‚     â””â”€ register_user(self)
â”‚ â”œâ”€ core/paths.py
â”‚     â””â”€ init_paths()
â”‚     â””â”€ save_uploadedfiles(uploadedfiles_list, user_collection_dir)
â”‚     â””â”€ manage_default_collection(user_collection_dir)
â”‚ â”œâ”€ core/mapping.py
â”‚     â””â”€ read_ba_mapping_from_excel_bytes(excel_bytes)
â”‚     â””â”€ load_ba_part_names(mapping_path)
â”‚     â””â”€ load_ba_mapping(mapping_path)
â”‚ â”œâ”€ core/preprocess.py
â”‚     â””â”€ sanitize_and_validate(df, required, label)
â”‚     â””â”€ load_wanted_files(files)
â”‚     â””â”€ load_collection_files(files)
â”‚ â”œâ”€ core/images.py
â”‚     â””â”€ precompute_location_images(collection_df_serialized, ba_mapping, cache_images_dir, ...)
â”‚     â””â”€ fetch_image_bytes(url, _session)
â”‚     â””â”€ _fetch_single_image(identifier, cache_dir, session)
â”‚ â”œâ”€ core/colors.py
â”‚     â””â”€ load_colors(colors_path)
â”‚     â””â”€ build_color_lookup(colors_df)
â”‚     â””â”€ render_color_cell(color_id, color_lookup)
â”‚ â”œâ”€ core/labels.py
â”‚     â””â”€ organize_labels_by_location(collection_df, ba_mapping, labels_source_dir, ...)
â”‚     â””â”€ generate_collection_labels_zip(collection_files_stream, ba_mapping, labels_source_dir, ...)
â”‚ â””â”€ core/lbx_merger.py
      â””â”€ main()
      â””â”€ __init__(self, max_length_mm, spacing_mm)
      â””â”€ parse_label_xml(self, xml)
â”‚
â”œâ”€â”¬â”€ UI MODULES
â”‚ â”œâ”€ ui/theme.py
â”‚ â”œâ”€ ui/layout.py
â”‚ â””â”€ ui/summary.py
â”‚
â””â”€â”¬â”€ RESOURCES
  â”œâ”€ auth_config.yaml (User credentials)
  â”œâ”€ colors.csv (LEGO color database)
  â””â”€ part number mapping.xlsx (BA â†” RB)

================================================================================
USER EXPERIENCE FLOW
================================================================================

â”Œâ”€ 1. LOGIN
â”‚  â”œâ”€ User enters credentials
â”‚  â”œâ”€ AuthManager.login() validates
â”‚  â”œâ”€ Session initialized
â”‚  â””â”€ Redirect to main app
â”‚
â–¼
â”‚
â”Œâ”€ 2. UPLOAD WANTED PARTS
â”‚  â”œâ”€ File uploader widget
â”‚  â”œâ”€ CSV validation
â”‚  â”œâ”€ Store in session_state['wanted_df']
â”‚  â””â”€ Display preview
â”‚
â–¼
â”‚
â”Œâ”€ 3. SELECT COLLECTION
â”‚  â”œâ”€ List available collection files
â”‚  â”œâ”€ User selects files
â”‚  â”œâ”€ Load CSVs into session_state['collection_df']
â”‚  â””â”€ Merge collections
â”‚
â–¼
â”‚
â”Œâ”€ 4. PROCESS & MATCH
â”‚  â”œâ”€ preprocess.merge_wanted_collection()
â”‚  â”œâ”€ mapping.apply_part_mappings()
â”‚  â”œâ”€ images.fetch_images()
â”‚  â”œâ”€ colors.add_color_data()
â”‚  â””â”€ Group by location
â”‚
â–¼
â”‚
â”Œâ”€ 5. BROWSE LOCATIONS
â”‚  â”œâ”€ Display location cards
â”‚  â”œâ”€ Show part images
â”‚  â”œâ”€ Display quantities needed/available
â”‚  â””â”€ Expandable details
â”‚
â–¼
â”‚
â”Œâ”€ 6. MARK FOUND PARTS
â”‚  â”œâ”€ User clicks 'Found' button
â”‚  â”œâ”€ Update session_state['found_counts']
â”‚  â”œâ”€ Recalculate remaining
â”‚  â””â”€ Visual feedback
â”‚
â–¼
â”‚
â”Œâ”€ 7. EXPORT RESULTS
â”‚  â”œâ”€ Download merged CSV
â”‚  â”œâ”€ Generate location labels
â”‚  â”œâ”€ Create LBX file
â”‚  â””â”€ Save session progress
â”‚

================================================================================
DATA STRUCTURES & DIMENSIONS
================================================================================

â”Œâ”€ SESSION STATE (st.session_state)
â”‚
â”‚  â”œâ”€ wanted_df: DataFrame
â”‚  â”‚     â””â”€ Wanted parts list
â”‚  â”‚        â””â”€ Columns: Part, Color, Quantity, Location
â”‚  â”œâ”€ collection_df: DataFrame
â”‚  â”‚     â””â”€ User's collection
â”‚  â”‚        â””â”€ Columns: Part, Color, Quantity, Location
â”‚  â”œâ”€ merged_df: DataFrame
â”‚  â”‚     â””â”€ Matched parts
â”‚  â”‚        â””â”€ wanted_df + collection_df merged
â”‚  â”œâ”€ found_counts: Dict
â”‚  â”‚     â””â”€ Tracking found parts
â”‚  â”‚        â””â”€ {(part, color, location): count}
â”‚  â”œâ”€ locations_index: Dict
â”‚  â”‚     â””â”€ Location grouping
â”‚  â”‚        â””â”€ {location: [image_urls]}
â”‚  â”œâ”€ expanded_loc: str
â”‚  â”‚     â””â”€ UI state
â”‚  â”‚        â””â”€ Currently expanded location
â”‚  â”œâ”€ start_processing: bool
â”‚  â”‚     â””â”€ Trigger flag
â”‚  â”‚        â””â”€ Initiates processing
â”‚  â””â”€ theme: str
â”‚        â””â”€ UI preference
â”‚           â””â”€ 'dark' or 'light'
â”‚
â”œâ”€ DATAFRAMES
â”‚
â”‚  â”œâ”€ wanted_df
â”‚  â”‚     â”œâ”€ Part Number (str)
â”‚  â”‚     â”œâ”€ Color (str)
â”‚  â”‚     â”œâ”€ Quantity Needed (int)
â”‚  â”‚     â””â”€ Location (str, optional)
â”‚  â”œâ”€ collection_df
â”‚  â”‚     â”œâ”€ Part Number (str)
â”‚  â”‚     â”œâ”€ Color (str)
â”‚  â”‚     â”œâ”€ Quantity Available (int)
â”‚  â”‚     â””â”€ Location (str)
â”‚  â””â”€ merged_df
â”‚        â”œâ”€ Part Number (str)
â”‚        â”œâ”€ Color (str)
â”‚        â”œâ”€ Quantity Needed (int)
â”‚        â”œâ”€ Quantity Available (int)
â”‚        â”œâ”€ Location (str)
â”‚        â”œâ”€ Image URL (str)
â”‚        â”œâ”€ Color Name (str)
â”‚        â””â”€ Color RGB (str)
â”‚
â””â”€ FILE SYSTEM

   â”œâ”€ user_data/{username}/
   â”‚     â”œâ”€ collection/*.csv - User's collection files
   â”‚     â””â”€ session_data.json - Saved progress
   â”œâ”€ cache/
   â”‚     â”œâ”€ images/*.png - Cached part images
   â”‚     â””â”€ labels/*.png - Generated label images
   â””â”€ resources/
         â”œâ”€ auth_config.yaml - User credentials (hashed)
         â”œâ”€ colors.csv - LEGO color database (~200 colors)
         â””â”€ part number mapping.xlsx - BAâ†”RB mappings (~2000 parts)

================================================================================
MODULE DEPENDENCIES
================================================================================

app.py
â”‚
â”œâ”€ core.auth
â”‚    â””â”€ â†’ core.paths
â”œâ”€ core.preprocess
â”‚    â”œâ”€ â†’ core.mapping
â”‚    â””â”€ â†’ core.paths
â”œâ”€ core.images
â”‚    â””â”€ â†’ core.paths
â”œâ”€ core.labels
â”‚    â”œâ”€ â†’ core.paths
â”‚    â””â”€ â†’ core.images
â”œâ”€ core.lbx_merger
â”‚    â””â”€ â†’ core.paths
â”œâ”€ ui.layout
â”œâ”€ ui.summary
â”‚    â””â”€ â†’ core.colors
â””â”€ ui.theme

================================================================================
ARCHITECTURE OVERVIEW
================================================================================

â”Œâ”€ TECHNOLOGY STACK
â”‚
â”‚  Frontend
â”‚  â””â”€ Streamlit (Web UI Framework)
â”‚
â”‚  Authentication
â”‚  â”œâ”€ streamlit-authenticator (Auth library)
â”‚  â”œâ”€ bcrypt (Password hashing)
â”‚  â””â”€ PyYAML (Config management)
â”‚
â”‚  Data Processing
â”‚  â”œâ”€ pandas (Data manipulation)
â”‚  â””â”€ requests (HTTP client)
â”‚
â”‚  Storage
â”‚  â”œâ”€ Local filesystem (Development)
â”‚  â””â”€ JSON (Session serialization)
â”‚
â”œâ”€ SESSION STATE MANAGEMENT
â”‚
â”‚  Global (Shared)
â”‚  â”œâ”€ ba_mapping - Part number mappings
â”‚  â”œâ”€ color_lookup - Color database
â”‚  â””â”€ theme - UI theme preference
â”‚
â”‚  User-Specific (Isolated)
â”‚  â”œâ”€ username - Current user
â”‚  â”œâ”€ authenticated - Auth status
â”‚  â”œâ”€ collection_df - User's collection
â”‚  â”œâ”€ found_counts - Parts marked as found
â”‚  â”œâ”€ locations_index - Location grouping
â”‚  â””â”€ merged_df - Matched parts
â”‚
â”œâ”€ EXTERNAL INTEGRATIONS
â”‚
â”‚  â”Œâ”€ Rebrickable API
â”‚  â”‚  â””â”€ Part data and mappings
â”‚  â”‚
â”‚  â””â”€ BrickArchitect Images
â”‚     â””â”€ Part images (cached locally)
â”‚
â””â”€ DEPLOYMENT

   Development:
   â”œâ”€ localhost:8501
   â”œâ”€ File-based storage
   â”œâ”€ Local user_data/
   â””â”€ YAML configuration

   Production (Recommended):
   â”œâ”€ HTTPS with SSL/TLS
   â”œâ”€ Database backend (PostgreSQL/MongoDB)
   â”œâ”€ Cloud storage (S3/Azure Blob)
   â””â”€ Environment secrets management

================================================================================
RUNTIME METRICS & DATA DIMENSIONS
================================================================================

â”Œâ”€ RESOURCE DATA
â”‚
â”‚  Colors Database:
â”‚  â”œâ”€ Rows: 273
â”‚  â””â”€ Columns: 8
â”‚
â”‚  Part Mappings (BA â†” RB):
â”‚  â”œâ”€ Rows: 4342
â”‚  â””â”€ Columns: 14
â”‚
â”œâ”€ USER DATA
â”‚
â”‚  Total Users: 1
â”‚  User Collection Files: 14
â”‚  Default Collection Files: 14
â”‚
â””â”€ DATA STRUCTURE DIMENSIONS

   DataFrame Schemas:
   â”œâ”€ wanted_df: ~4-5 columns (Part, Color, Quantity, Location)
   â”œâ”€ collection_df: ~4 columns (Part, Color, Quantity, Location)
   â””â”€ merged_df: ~8-10 columns (includes Image URL, Color data)

   Dictionary Structures:
   â”œâ”€ found_counts: {(part, color, location): count}
   â”œâ”€ locations_index: {location: [image_urls]}
   â”œâ”€ ba_mapping: {ba_part_number: rb_part_number}
   â””â”€ color_lookup: {color_id: {name, rgb, ...}}

================================================================================
STATISTICS SUMMARY
================================================================================
Total Functions: 86
Total Classes: 4
Session State Keys: 14
Modules Analyzed: 16</pre>
        </div>
        
        <footer>
            <p class="timestamp">Generated on 2026-02-15 23:54:02</p>
        </footer>
    </div>
    
    <script>
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
        
        function toggleFolder(folderId) {
            const content = document.getElementById(folderId + '-content');
            const icon = document.getElementById(folderId + '-icon');
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                icon.classList.remove('rotated');
            } else {
                content.classList.add('expanded');
                icon.classList.add('rotated');
            }
        }
        
        function toggleFile(fileId) {
            const content = document.getElementById(fileId + '-content');
            const icon = document.getElementById(fileId + '-icon');
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                icon.classList.remove('rotated');
            } else {
                content.classList.add('expanded');
                icon.classList.add('rotated');
            }
        }
        
        // Expand all folders and files
        function expandAll() {
            document.querySelectorAll('.folder-content, .functions-container').forEach(el => {
                el.classList.add('expanded');
            });
            document.querySelectorAll('.expand-icon').forEach(icon => {
                icon.classList.add('rotated');
            });
        }
        
        // Collapse all folders and files
        function collapseAll() {
            document.querySelectorAll('.folder-content, .functions-container').forEach(el => {
                el.classList.remove('expanded');
            });
            document.querySelectorAll('.expand-icon').forEach(icon => {
                icon.classList.remove('rotated');
            });
        }
    </script>
</body>
</html>
